# üîç –û—Ç—á–µ—Ç –æ–± –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ API –ø–æ–¥—Ö–æ–¥–∞ –¥–ª—è fly.pl

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

### ‚úÖ –ß—Ç–æ –Ω–∞–π–¥–µ–Ω–æ:
- **3 —Ä–∞–±–æ—á–∏—Ö endpoints** (–≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 200 —Å—Ç–∞—Ç—É—Å)
- **1 –ø–æ–∏—Å–∫–æ–≤—ã–π endpoint** (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏)
- **2 AJAX endpoints** (–¥–æ—Å—Ç—É–ø–Ω—ã)

### ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- **–ù–µ—Ç JSON API** - –≤—Å–µ endpoints –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç HTML
- **401 —Å—Ç–∞—Ç—É—Å** –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ `/api/*` endpoints
- **–¢—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö API

## üéØ –ù–∞–π–¥–µ–Ω–Ω—ã–µ endpoints:

### 1. –†–∞–±–æ—á–∏–µ HTML endpoints:
```
‚úÖ /search/api     - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∏—Å–∫–∞ (HTML)
‚úÖ /offers/api     - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π (HTML)  
‚úÖ /travel/api     - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π (HTML)
```

### 2. AJAX endpoints:
```
‚úÖ /search/ajax    - AJAX –ø–æ–∏—Å–∫ (HTML)
‚úÖ /offers/ajax    - AJAX –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (HTML)
```

### 3. –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ API endpoints:
```
‚ùå /api/search/offers  - 401 Unauthorized
‚ùå /api/offers         - 401 Unauthorized
‚ùå /api/travel/search  - 401 Unauthorized
‚ùå /api/search         - 401 Unauthorized
‚ùå /api/v1/search      - 401 Unauthorized
‚ùå /api/v2/search      - 401 Unauthorized
```

## üö® –í—ã–≤–æ–¥—ã

### ‚ùå API –ø–æ–¥—Ö–æ–¥ –ù–ï –†–ï–ê–õ–ò–ó–£–ï–ú:
1. **fly.pl –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π JSON API**
2. **–í—Å–µ endpoints —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**
3. **–î–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã**

### ‚úÖ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:

#### 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–µ–∫—É—â–µ–≥–æ UI –ø–æ–¥—Ö–æ–¥–∞:
```python
# –£—Å–∫–æ—Ä–µ–Ω–∏–µ Playwright
- –£–º–µ–Ω—å—à–∏—Ç—å wait_timeout (30s ‚Üí 15s)
- –û—Ç–∫–ª—é—á–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å headless —Ä–µ–∂–∏–º
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü
```

#### 2. –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥:
```python
# –ö–æ–º–±–∏–Ω–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤
- API –¥–ª—è –±–∞–∑–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –Ω–∞–π–¥–µ–º)
- UI scraping –¥–ª—è –¥–µ—Ç–∞–ª–µ–π
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞
```

#### 3. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
```python
# –î—Ä—É–≥–∏–µ API
- Amadeus API (–∞–≤–∏–∞–±–∏–ª–µ—Ç—ã)
- Expedia API (–æ—Ç–µ–ª–∏)
- Booking.com API
- Skyscanner API
```

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (1-2 –¥–Ω—è):
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å Playwright** - —É—Å–∫–æ—Ä–∏—Ç—å –≤ 2-3 —Ä–∞–∑–∞
- **–î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥** - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

### 2. –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (1-2 –Ω–µ–¥–µ–ª–∏):
- **–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ API** - Amadeus, Expedia, Booking
- **–°–æ–∑–¥–∞—Ç—å –≥–∏–±—Ä–∏–¥–Ω—É—é —Å–∏—Å—Ç–µ–º—É** - API + UI scraping
- **–î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### 3. –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (1-2 –º–µ—Å—è—Ü–∞):
- **–ü–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ —Å fly.pl** - –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ API
- **–°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π API** - —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Å–ª–æ–π
- **–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ** - –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞—Ç—å —Ü–µ–Ω—ã

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –¢–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥ (UI scraping):
- ‚è±Ô∏è **–í—Ä–µ–º—è**: 2-3 –º–∏–Ω—É—Ç—ã
- üéØ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: 85-90%
- üîÑ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∞

### –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥:
- ‚è±Ô∏è **–í—Ä–µ–º—è**: 30-60 —Å–µ–∫—É–Ω–¥ (2-3x –±—ã—Å—Ç—Ä–µ–µ)
- üéØ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: 90-95%
- üîÑ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: 5-10x –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö

## üõ†Ô∏è –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

### –≠—Ç–∞–ø 1: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (—Å–µ–≥–æ–¥–Ω—è):
```bash
# 1. –£–º–µ–Ω—å—à–∏—Ç—å —Ç–∞–π–º–∞—É—Ç—ã
wait_timeout: 30000 ‚Üí 15000

# 2. –û—Ç–∫–ª—é—á–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ä–µ—Å—É—Ä—Å–æ–≤
await page.route("**/*.{png,jpg,jpeg,gif,svg,css,js}", lambda route: route.abort())

# 3. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥
asyncio.gather(*[parse_page(page) for page in pages])
```

### –≠—Ç–∞–ø 2: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–∑–∞–≤—Ç—Ä–∞):
```python
# Redis –∫—ç—à –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
cache_key = f"fly_pl_{hash(search_params)}"
cached_result = redis.get(cache_key)
if cached_result:
    return json.loads(cached_result)
```

### –≠—Ç–∞–ø 3: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ):
```python
# –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –í—Ä–µ–º—è –ø–∞—Ä—Å–∏–Ω–≥–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫
- –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
```

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–ù–ï –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ API –ø–æ–¥—Ö–æ–¥** –¥–ª—è fly.pl, —Ç–∞–∫ –∫–∞–∫:
1. ‚ùå –ü—É–±–ª–∏—á–Ω—ã–π API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
2. ‚ùå –¢—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
3. ‚ùå –ù–µ—Ç JSON endpoints

**–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ**:
1. ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å UI scraping** - —É—Å–∫–æ—Ä–∏—Ç—å –≤ 2-3 —Ä–∞–∑–∞
2. ‚úÖ **–î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤  
3. ‚úÖ **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥** - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü
4. ‚úÖ **–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ API** - Amadeus, Expedia

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

- ‚ö° **–°–∫–æ—Ä–æ—Å—Ç—å**: 30-60 —Å–µ–∫—É–Ω–¥ (vs 2-3 –º–∏–Ω—É—Ç—ã)
- üéØ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: 90-95% (vs 85-90%)
- üìà **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: 5-10x –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö
- üí∞ **–°—Ç–æ–∏–º–æ—Å—Ç—å**: –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è (—Ç–æ–ª—å–∫–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)

---

*–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–µ–∫—É—â–µ–≥–æ UI –ø–æ–¥—Ö–æ–¥–∞ –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ API.*
